<div class="field-selector-container">
  <div class="controls">
    <input type="text" placeholder="Search fields..." [value]="searchTerm()" (input)="onSearchChange($event)" class="search-input">
    <div class="actions">
      <button (click)="selectAll()" [disabled]="allFilteredSelected()">Select All Shown</button>
      <button (click)="unselectAll()" [disabled]="noneSelected()">Unselect All</button>
      <button (click)="reset()">Reset</button>
    </div>
  </div>
  <div class="field-selected-info">
    <p><b>Selected Fields:</b> {{ selectedFieldsAsListText() }}</p>
    <p><b>Total Available Fields:</b> {{ availableFields().length }}</p>
  </div>
  <div class="field-list-container">
    @for (field of filteredFields(); track field) {
      <label>
        <input type="checkbox" [value]="field" [checked]="isSelected(field)"
                (change)="onFieldChange($event, field)" />
        {{ field }}
      </label>
    }
  </div>
</div>
